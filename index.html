<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>2014 UI Approach</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/blood.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

		<!--
		<style>
			.reveal h2 {color: #cc3333;}
		</style>
		-->

	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h1>2014 UI Approach</h1>
					<h4 style="line-height: 1.25em;">Bringing Architectural Standards to the Macys.com UI</h4>
					<p>
						<small>Created by John Belew</a> / <a href="mailto:john.e.belew@macys.com">john.e.belew@macys.com</a></small>
					</p>
				</section>

				<section>
					<h2>Web Site Best Practices</h2>
					<ul>
						<li>Constant templating approach</li>
						<li>Semantic mark-up</li>
						<li>Common presentation artifacts</li>
						<li>Common approach for supporting interactivity</li>
					</ul>
				</section>

				<section>
					<h2>How Does Macys.com Compare?</h2>
					<ul>
						<li>Too many different approaches to <strong>Templating</strong> -- Tiles, JSP, JSTL, JSON and DOM Manipulation.</li>
						<li><strong>Mark-up</strong> has just been piled on over the years -- Up to 10k of code to show a single product thumbnail!</li>
					</ul>
				</section>	

				<section>
					<h2>How Does Macys.com Compare?</h2>
					<ul>
						<li>Inconsistant approaches. No governance surrounding <strong>Presentation</strong> -- Only 13% of presentation code is used on any singular experience. Complexity and unexpected dependencies lead further code explosion.</li>
						<li>No common patterns for supporting site <strong>interactivity</strong>.</li>
					</ul>
				</section>					

				<section>
					<p>Where we are now ...</p>
					<img src="img/slums.jpg" class="stretch" />
				</section>		

				<section>
					<p>Where we want to go in 2014 ...</p>
					<img src="img/planned.jpg" class="stretch" />
				</section>			

				<section>
					<h1>Getting There ...</h1>
				</section>	

				<section>
					<h2>Going Forward</h2>
					<ul>
						<li>One primary API for retrieving dynamic content: <strong>JSON</strong></li>
						<li>A common approach for binding those JSON objects to end-user views: <strong>Handlebars</strong></li>
					</ul>
				</section>	

				<section>
					<h2>Going Forward</h2>
					<ul>
						<li>A consistent means to create robust and well performing, multi-device layouts: <strong>Foundation and SCSS</strong></li>
						<li>Visual and stylistic implementation governance: <strong>Coded Component Style Guide / Macyâ€™s BaseCSS</strong></li>
					</ul>
				</section>	

				<section>
					<h2>Going Forward</h2>
					<ul>
						<li>A common model for binding and managing event interactions: <strong>Model / View / Collections using Backbone.js</strong></li>
					</ul>
				</section>	

				<section>
					<h2>How Does This Solve Performance Issues?</h2>
					<p><i>&quot;Macys.com currently loads all the site's CSS and JavaScript regardless of what features are actually available&quot;.</i></p>
				</section>	

				<section>
					<h2>Building Lean Web Pages</h2>
					<ul>
						<li>Creating and packaging our features (mark-up, presentation styling, and interactivity) so they can be loaded and executed on demand: <strong>AMD + Require.JS Components</strong></li>
					</ul>
				</section>

				<section>
					<h2>What About Architecture?</h2>
					<p><i>&quot;That whole Components idea sounds great, how does it really solve the problem?&quot;</i></p>
				</section>	

				<section>
					<p>We build our components using the ...</p>
					<h2>Module Pattern</h2>
				</section>	

				<section>
					<h2>Components Are ...</h2>
					<ul>
						<li class="fragment">Re-usable</li>
						<li class="fragment">Small and focused</li>
						<li class="fragment">Easily testable (via Jasmine)</li>
						<li class="fragment">De-coupled from other Components</li>
					</ul>
				</section>

				<section>
					<h2>Components Don't ...</h2>
					<ul>
						<li class="fragment">Access the DOM outside of themselves</li>
						<li class="fragment">Access global, non-native objects</li>
						<li class="fragment">Create global variables</li>
					</ul>
				</section>

				<section>
					<h1>A Sample Component</h1>
				</section>

				<section>
					<p>On page load, we initialize the <strong>Component</strong> ...</p>
					<pre><code data-trim style="font-size: 18px; margin-top: 20px;">define([
    'components/thumb',
    'components/data'
],function(thumb,data){

    // wait for the document to be ready before instantiating
    $(document).ready(function(){

        // instantiate a new collection, pass in the data
        var thumbGrid = new thumb.collection(data);

        // instantiate a view
        var thumbView = new thumb.view({
            el: 'body',
            collection: thumbGrid
        });
    })

    return {
        initialize: function(){
            console.log("app.js initialized");
        }
    }
})</code></pre>					
				</section>

				<section>
					<p>The Data the <strong>Component</strong> consumes is JSON ...</p>
					<pre><code data-trim style="font-size: 18px; margin-top: 20px;">define([],function(){
        var thumbs = 
        [{
                name:"Cutest dog ever",
                description:"This puppy is so cute, she makes toddlers throw fits",
                src:"http://lorempixel.com/400/300/animals/",
                rating:{
                        "starRating":"3.5",
                        "count": "5"
                },
                price:{
                        "sale":"$100,000",
                        "regular":"$100,000,000"
                }
        },
        {
                name:"My sweet kitten",
                description:"This kitten might give you the sniffles, but she's worth it",
                src:"http://lorempixel.com/400/300/cats/",
                rating:{
                        "starRating":"2.5",
                        "count": "14"
                },
                price:{
                        "sale":"$10,000",
                        "regular":"$100,000"
                }
        },
        {
                name:"Pork",
                description:"It's what's for breakfast",
                src:"http://lorempixel.com/400/300/food/",
                rating:{
                        "starRating":"5",
                        "count": "500"
                },
                price:{
                        "regular":"$10"
                }
        },
        {
                name:"Sports",
                description:"It's what's after breakfast",
                src:"http://lorempixel.com/400/300/sports/",
                rating:{
                        "starRating":"1",
                        "count": "0"
                }
        }]

        return thumbs;
})</code></pre>
				</section>

				<section>
					<p>The <strong>Component</strong> itself exposes a simple API ...</p>
					<pre><code data-trim style="font-size: 18px; margin-top: 20px;">define([
        'jquery',
        'underscore',
        'backbone',
        'helpers',
        '../../templates/compiled/thumb.handlebars',
],function($,_,Backbone,helpers,templates){

        // define a view that renders once it is initialized
        var ThumbView = Backbone.View.extend({
                initialize: function() {
                        var self = this;
                        self.render();
                },
                render: function() {
                        var self = this;
                        self.$el.append(templates.thumb(self.collection.toJSON()))
                        return self;
                },
                events: {
                        'click img':'onClick'
                },
                onClick: function(e){
                        alert('Surprise! You clicked on "'+$(e.target).attr('alt')+'"!');
                }
        })

        // define a collection
        var ThumbCollection = Backbone.Collection.extend();

        // return the exposed API of this module
        return {
                view: ThumbView,
                collection: ThumbCollection
        }
})</code></pre>
				</section>

				<section>
					<p><strong>Handlebars</strong> binds the JSON data to the HTML-based View markup ... </p>
					<pre><code data-trim style="font-size: 18px; margin-top: 20px;">
<div class="thumb">
    <img src="{{src}}" alt="{{name}}">
    <h1>{{name}}</h1>
    <h2>{{description}}</h2>
    {{#if price.sale}}
            <h3 class="sale"> Sale: {{price.sale}}</h3>
        {{/if}}
        {{#if price.regular}}
                <h3 class="regular"> Regular: {{price.regular}}</h3>
        {{/if}}
    {{#rating rating}}{{/rating}}
</div></code></pre>
				</section>

				<section data-background="#cccccc">
					<h2>The Results</h2>
					<iframe class="stretch" src="http://brendajin.github.io/backbone-require-handlebars-example/">
					</iframe>
				</section>					

				<section>
					<h2>Working With Components</h2>
					<p><i>&quot;Components sound fine and good, but how do I avoid creating another mess of code such as our current QuickView?"&quot;</i></p>
				</section>

				<section>
					<p>We protect our <strong>Components</strong> using the ...</p>
					<h2>Facade Pattern</h2>
				</section>

				<section>
					<h2>Facade Pattern</h2>
					<ul>
						<li class="fragment">Keeps the inter-workings of a component private</li>
						<li class="fragment">Minimizes API dependencies</li>
						<li class="fragment">Let's us be more creative behind the scenes when it comes to future enhancements</li>
					</ul>
				</section>

				<section>
					<h2>Facade Pattern</h2>
					<p><i>&quot;Wait! If Components are private and can't talk to each other, how do I create a functional web experience?&quot;</i></p>
				</section>

				<section>
					<p>We integrate our <strong>Components</strong> using the ...</p>
					<h2>Mediator Pattern </h2>
				</section>				

				<section>
					<h2>Mediator Pattern</h2>
					<ul>
						<li class="fragment">The Mediator is like an Air Traffic controller for the page. Components broadcast to and listen for events, through their Facade, to the Mediator</li>
						<li class="fragment">The Mediator enables us to create rich, <strong>Single Page Experiences</strong></li>
					</ul>
				</section>

				<section>
					<p>Our Common <strong>Page Architecture</strong>!</p>
					<img src="img/pattern.png" class="stretch" />
				</section>				

				<section>
					<h2>Reviewing the Approach</h2>
					<ul>
						<li class="fragment">A consistant developmental contract between the application layer and the UI using <strong>JSON</strong>
						<li class="fragment"><strong>Backbone.js</strong> for enabling consistant interaction development using a Model / View / Collection architecture</li>
						<li class="fragment">Building re-usable components and managing dependencies with <strong>AMD + Require.js</strong></li>
						<li class="fragment">Using <strong>Handlerbars</strong> and <strong>Foundation</strong> to provide a common and robust framework for creating and styling our views</li>
						<li class="fragment">Conforming to common <strong>Module / Facade / Mediator</strong> patterns to create rich and highly interactive Single Page Experiences</li>
					</ul>
				</section>

				<section>
					<h2 style="line-height: 1.05em;">Why aren't we using (insert framework of the week)?</h2>
					<ul>
						<li class="fragment">Under active development with wide-spread community support</li>
						<li class="fragment">Light-weight and performant</li>
						<li class="fragment">Proven in many large-scale production deployments</li>
						<li class="fragment">Non-opinionated with a focus on minimizing external dependancies</li>
					</ul>
				</section>				

				<section>
					<h2>Wrapping Up ...</h2>
					<p><i>&quot;The secret to building large web application is to not build a large web application in the first place. Break your application into small pieces, then assemble those testable, bite-sized components into your large application.&quot;</i></p>
				</section>

				<section>
					<h1>Example</h1>
				</section>

				<section>
					<p>We take individual <strong>Components</strong> ...</p>
					<img src="img/component.png" class="stretch" />
				</section>

				<section>
					<p>Build a <strong>Collection</strong> ...</p>
					<img src="img/collection.png" class="stretch" />
				</section>

				<section>
					<p>Add those <strong>Components</strong> and <strong>Collections</strong> to a Page ...</p>
					<img src="img/page_1.png" class="stretch" />
				</section>

				<section>
					<p>And use a Page <strong>Mediator</strong> facilitate communications between <strong>Components</strong> to create a <strong>Single Page Experiences!</strong></p>
					<img src="img/spe.png" class="stretch" />
				</section>

				<section>
					<img src="img/page_1-action.png" class="stretch" />
				</section>	

				<section>
					<img src="img/page_1-mediator.png" class="stretch" />
				</section>

				<section>
					<section>
						<img src="img/page_2-mediator.png" class="stretch" />
					</section>		

					<section data-transition="fade">
						<img src="img/page_2-action_a.png" class="stretch" />
					</section>

					<section data-transition="fade">
						<img src="img/page_2-action_b.png" class="stretch" />
					</section>

					<section data-transition="fade">
						<img src="img/page_2-action_c.png" class="stretch" />
					</section>
				</section>

				<section>

					<section>
						<img src="img/spe.png" class="stretch" />
					</section>

					<section data-transition="fade">
						<img src="img/page_3-action_a.png" class="stretch" />
					</section>

					<section data-transition="fade">
						<img src="img/page_3-action_b.png" class="stretch" />
					</section>	

				</section>

				<section>
					<h1>QUESTIONS?</h1>
				</section>

				<section>
					<h2>Additional Resources</h2>
					<ul>
						<li><a href="http://addyosmani.com/largescalejavascript/">Patterns For Large-Scale JavaScript Application Architecture</a> by Addy Osmani</li>
						<li><a href="http://www.slideshare.net/nzakas/scalable-javascript-application-architecture">Scalable JavaScript Application Architecture</a> by Nicholas Zakas</li>
						<li><a href="https://github.com/brendajin/backbone-require-handlebars-example">Source code</a> for the example &quot;thumbnail&quot; view using Backbone.js, Require.js, and Handlebars created by Brenda Jin
					</ul>
				</section>

				<section>
					<p>This deck was created using the principles described.</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				margin: 0,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'http://survivingsarcoma.com/wp-content/uploads/2010/12/RedBalls.jpg',
				// parallaxBackgroundSize: '3872px 1841px',
				parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
